<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2014-12-09 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20141209" />
    <meta http-equiv="Content-Language" content="en" />
    <title>TEAM Engine &#x2013; User's Guide</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="https://github.com/opengeospatial/teamengine" id="bannerLeft">
                                                                                                <img src="./images/te-logo-small.png"  alt="TEAM Engine"/>
                </a>
                      </div>
        <div class="pull-right">                  <a href="http://www.osgeo.org/incubator" id="bannerRight">
                                                                                                <img src="./images/OSGeo_incubation.png"  alt="OSGeo Incubator"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2014-12-09
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 4.0.6
                      </li>
                      
                
                    
      
                                    
    <li class="pull-right">
        <span class="divider">|</span>
                      <a href="https://github.com/opengeospatial/teamengine/issues" class="externalLink" title="Issues">
        Issues</a>
      </li>

  
    <li class="pull-right">
                      <a href="https://github.com/opengeospatial/teamengine/wiki" class="externalLink" title="Wiki">
        Wiki</a>
      </li>

                    </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Getting Started</li>
                              
      <li>
  
                          <a href="index.html" title="Overview">
          <i class="none"></i>
        Overview</a>
            </li>
                
      <li>
  
                          <a href="installation.html" title="Installation">
          <i class="none"></i>
        Installation</a>
            </li>
                
      <li class="active">
  
            <a href="#"><i class="none"></i>User's Guide</a>
          </li>
                
      <li>
  
                          <a href="testers.html" title="Tester's Guide">
          <i class="none"></i>
        Tester's Guide</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                  
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                              <li class="nav-header">About</li>
                              
      <li>
  
                          <a href="changelog.html" title="Release Notes">
          <i class="none"></i>
        Release Notes</a>
            </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            
  
  
    <p>This document provides some general guidance about how to use TEAM Engine 
    to execute a test run and view the results. There are three ways to interact 
    with the test harness: a command shell, the web application, or a REST-like 
    API.</p>

    
<div class="section">
<h2><a name="Command_shell"></a>Command shell</h2>
    
<p>
    The console application (teamengine-console-4.0.6-bin.zip) 
    includes shell scripts for running test suites in Windows and Unix-like (Bash shell) 
    environments. Unpack the archive into a convenient location (TE_HOME); the contents 
    are as shown below.
    </p>
    
<div>
<pre>
TE_HOME
  |-- bin/              # shell scripts (windows, unix)
  |-- lib/              # supporting libraries
  |-- resources/        # classpath resources (stylesheets, schemas, etc.)
    </pre></div>

    
<p>
    If desired, set the value of the TE_BASE environment variable in the <tt>setenv</tt> 
    script; otherwise set it for the user evironment according to the particulars of the 
    operating system in use. Once this is done, change to the appropriate script directory 
    (TE_HOME/bin/{unix,windows}) or add it to the system path.
    </p>

    
<p><img src="./images/warn-16px.png" alt="" /> <b>Warning:</b> If a test suite 
    requires any supporting libraries that are not included with the core distribution, 
    these must be added to the TE_BASE/resources/lib directory.</p>

    
<p>
    To view a brief summary of a test suite, run the <tt>listsuites</tt> script and 
    specify the location of the root CTL script (relative to TE_BASE/scripts).
    </p>
    
<div>
<pre>
&gt; listsuites -source=note.ctl

Suite note:note-test ({http://example.net/note-test}note-test)
Sample test suite
Checks the content of a note.</pre></div>

    
<p>
    To execute a test suite, run the <tt>test</tt> script and specify the location of the 
    root CTL script (this contains the ctl:suite element); the file reference may be an absolute 
    filesystem location or relative to TE_BASE/scripts. The test results will be written to a 
    subdirectory <i>sNNNN</i> created in TE_BASE/users/<i>username</i>/.
    </p>
    
<div>
<pre>
&gt; test -source=note.ctl

Testing suite note:note-test in Test Mode with defaultResult of Pass ...
Testing note:main type Mandatory in Test Mode with defaultResult Pass (s0002)
...</pre></div>

    </div>
<div class="section">
<h2><a name="Web_application"></a>Web application</h2>
    
<p>
    The web application (teamengine.war) provides a user interface for selecting test suites, 
    browsing test documentation, and launching test runs. The welcome page (e.g. 
    http://localhost:8080/teamengine) displays a table listing all available test suites. 
    In a new installation a sample suite for the fictitious &quot;XML Note&quot; specification 
    should appear. The listed test suites correspond to entries in the main configuration 
    file located at TE_BASE/config.xml.
    </p>

    
<p>
    Select &quot;Login&quot; and then supply the appropriate credentials or register to create 
    a new user account. After logging in, previous test sessions are displayed. Select 
    &quot;Create new session&quot; and choose a test suite to execute.
    </p>

    
<p>The TE_BASE/config.xml file is a &quot;watched&quot; resource--the web application will be 
    reloaded whenever this file is modified. This means that test suites can be added or 
    updated and become available for use without having to restart the Tomcat instance.
    Simply put the CTL scripts in TE_BASE/scripts and insert or update an entry in the 
    main configuration file. Supporting libraries, if any, must be placed in the 
    WEB-INF/lib directory.</p>

    
<p>As a convenience, the <tt>ets-resources</tt> project may be <a class="externalLink" href="https://github.com/opengeospatial/ets-resources" target="_blank">cloned from GitHub</a> and 
    built (run 'mvn package') to generate an archive containing all supporting libraries 
    for the latest OGC test suites. The contents of the archive are described below.</p>

    
<dl>
      
<dt><tt>config.xml</tt></dt>
      
<dd>TEAM-engine instance configuration file (TE_BASE/config.xml).</dd>
      
<dt><tt>config-approved.xml</tt></dt>
      
<dd>TEAMengine configuration file that includes only test suite releases that 
      have been formally approved for compliance certification by the OGC Technical 
      Committee.</dd>
      
<dt><tt>ctl-scripts-release.csv</tt></dt>
      
<dd>A CSV file that contains a list of test suite releases. Each line has two 
      fields: Git repository URL, tag name.</dd>
      
<dt><tt>lib/*.jar</tt></dt>
      
<dd>A directory containing the required Java libraries that must be available 
      on the class path; that is, WEB-INF/lib for the web application or TE_BASE/resources/lib 
      for command-line execution.</dd>
      
<dt><tt>bin/</tt></dt>
      
<dd>A directory containing shell scripts for Windows- and UNIX-based (Linux/Mac) 
      hosts. The `setup-tebase` script will set up a TEAM-engine instance (TE_BASE) 
      with the test suites identified in a referenced CSV file.</dd>
    </dl>

    </div>
<div class="section">
<h2><a name="REST_API"></a>REST API</h2>
    
<p>
    A simple REST-like API (based on <a class="externalLink" href="http://jcp.org/en/jsr/detail?id=311" target="_blank">
    JAX-RS 1.1</a>) enables programmatic execution of some test suites; currently only
    TestNG-based suites can be run in this manner. It exposes the endpoints listed in Table 2. 
    In the request URIs the <tt>{etsCode}</tt> and <tt>{etsVersion}</tt> parameters 
    denote the test suite code and version, respectively, for a particular test suite.
    </p>

    
<table border="0" class="table table-striped"><caption>Table 2 - REST endpoints</caption>
      
      <thead>
        
<tr class="a">
          
<th>URI (relative to base)</th>
          
<th>Resource</th>
          
<th>Representation</th>
        </tr>
      </thead>
      <tbody>
        
<tr class="b">
          
<td>/rest/suites</td>
          
<td>Test suite collection</td>
          
<td>application/xhtml+xml </td>
        </tr>
        
<tr class="a">
          
<td>/rest/suites/{etsCode}/{etsVersion}</td>
          
<td>Test suite documentation</td>
          
<td>text/html</td>
        </tr>
        
<tr class="b">
          
<td>/rest/suites/{etsCode}/{etsVersion}/run</td>
          
<td>Test run controller</td>
          
<td>application/xml </td>
        </tr>
      </tbody>
    </table>

    
<p><img src="./images/warn-16px.png" alt="" /> <b>Warning:</b> When using the REST API, 
    if any test run argument includes a URI value that contains an ampersand ('&amp;') character 
    in a query component, it must be percent-encoded as %26 since it is a &quot;data octet&quot; in 
    this context (see <a class="externalLink" href="http://tools.ietf.org/html/rfc3986#section-2.1" target="_blank">
    RFC 3986, sec. 2.1</a>).</p>

    
<p>The test run parameters are described in the test suite summary document. This 
    document can be viewed from the web application by selecting the <i>Test Suite 
    Revision</i> link displayed on the home page; the REST API will also present the 
    document at the <tt>/rest/suites/{etsCode}/{etsVersion}</tt> endpoint. Each 
    parameter is either mandatory, conditional (required under certain circumstances), 
    or optional.</p>

    
<p>If a test suite is being deployed manually, several steps are required to set 
    up an executable test suite (ETS) implemented using the TestNG framework. Note that 
    the first two steps are <b>not</b> required in order to use the REST API.</p>
    
<ol style="list-style-type: decimal">
      
<li>Unpack the *-ctl.zip archive into the TE_BASE/scripts directory; it includes 
      test suite documentation and a simple CTL script that invokes the main controller.</li>
      
<li>Update the TE_BASE/config.xml file by adding or editing the &lt;standard&gt; element 
      for the test suite.</li>
      
<li>Put the ETS component (a binary JAR file) and any dependencies into 
        the <tt>WEB-INF/lib</tt> directory of the web application.</li>
    </ol>

    
<p>The <tt>*-deps</tt> archive assembles the ETS and its dependencies into a 
    single bundle that is unpacked into the lib directory in the last step. In some 
    cases it may be necessary to add other (transitive) dependencies. The Tomcat 
    instance does not need to be restarted to enable the test suite--it should be 
    available immediately.</p>

  </div>

                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                    2014
                        <a href="http://www.opengeospatial.org/">Open Geospatial Consortium</a>.
            All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>
